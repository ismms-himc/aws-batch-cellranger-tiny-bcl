# mkfastq Notes
This document discusses how mkfastq is run and is adapted from the [documentation](https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/using/mkfastq).

We will run mkfastq using: `--run`, `--id`, and `csv`. See example below:

```
$ cellranger mkfastq --run=/path/to/tiny_bcl \
                     --id=tiny-bcl \
                     --csv=cellranger-tiny-bcl-simple-1.2.0.csv
```

We will use the preferred simple csv format. See below example:

```
Lane,Sample,Index
1,test_sample,SI-GA-A3
```

# All mkfastq arguments

#### `--run	(Required)` 
The path of Illumina BCL run folder.

#### `--id	(Optional; defaults to the name of the flowcell referred to by --run)` 
Name of the folder created by mkfastq.

#### `--samplesheet	(Optional)` 
Path to an Illumina Experiment Manager-compatible sample sheet which contains 10x sample index set names (e.g., SI-GA-A12) in the sample index column. All other information, such as sample names and lanes, should be in the sample sheet.

#### `--sample-sheet	(Optional)` 
Equivalent to --samplesheet above.

#### `--csv	(Optional)` 
Path to a simple CSV with lane, sample, and index columns, which describe the way to demultiplex the flowcell. The index column should contain a 10x sample set name (e.g., SI-GA-A12 or the actual oligo sequence used). This is an alternative to the Illumina IEM sample sheet, and will be ignored if --samplesheet is specified.

#### `--simple-csv	(Optional)` 
Equivalent to --csv above.

#### `--ignore-dual-index	(Optional)` 
Ignores the second index on a dual-indexed flowcell.

#### `--qc	(Optional)` 
Calculate both sequencing and 10x-specific metrics, including per-sample barcode matching rate. Will not be performed unless this flag is specified.

####`--lanes	(bcl2fastq option)` 
Comma-delimited series of lanes to demultiplex (e.g. 1,3). Use this if you have a sample sheet for an entire flowcell but only want to generate a few lanes for further 10x analysis.

####`--use-bases-mask	(bcl2fastq option)` 
Same meaning as for bcl2fastq. Use to clip extra bases off a read if you ran extra cycles for QC.

####`--delete-undetermined	(bcl2fastq option)` 
Delete the Undetermined FASTQs generated by bcl2fastq. Useful if you are demultiplexing a small number of samples from a large flowcell.

#### `--output-dir	(bcl2fastq option)` 
Generate FASTQ output in a path of your own choosing, instead of flowcell_id/outs/fastq_path.

#### `--project	(bcl2fastq option)` 
Custom project name, to override the samplesheet or to use in conjunction with the --csv argument.

#### `--jobmode	(Martian option)` 
Job manager to use. Valid options: local (default), sge, lsf, or a .template file.

#### `--localcores	(Martian option)` 
Set max cores the pipeline may request at one time. Only applies when --jobmode=local.

#### `--localmem	(Martian option)` 
Set max GB the pipeline may request at one time. Only applies when --jobmode=local.

